# 싱글톤 패턴(Singleton Pattern)

## < 목표 >
### 싱글톤 패턴이 무엇인지 설명할 수 있다.

---

싱글톤 패턴은 객체와 인스턴스를 어떻게 생성할 지와 관련된 디자인 패턴이다.  
싱글톤 패턴은 하나의 애플리케이션에서 하나의 객체는 언제나 하나의 인스턴스만을 갖는 것을 보장한다.

> 디자인 패턴 vs 아키텍쳐 패턴
>> 디자인 패턴: 전체 시스템 안에서 세부적인 모듈, 객체의 역할과 구현 방식을 설계할 때 적용  
>> 아키텍쳐 패턴: 전체 시스템 구조를 설계하는 데 적용(MVC 등)

<br>

---

<br>

## 1. 싱글톤 패턴의 목적
싱글톤 패턴이 적용되면 특정 클래스의 인스턴스는 하나임이 보장되며 전역에서 참조할 수 있다.  
인스턴스 생성에 소요되는 자원을 절약할 수 있으며,  
메모리 누수나 버그를 발생시킬 수 있는 다양한 작업들 예방하기 위해 사용된다.
(서버 어플리케이션, DB 설정과 생성 등)  
어플리케이션을 구동시키는 init 또는 bootstrap 함수를 통해 진입점을 하나로 두는 것이 이에 해당한다.

<br>

---

<br>

## 2. 싱글톤 패턴 구현 방식
Typescript의 private, static 키워드를 통해 싱글톤 패턴을 쉽게 구현할 수 있다.
하지만 비즈니스 로직에 필요한 상수, 설정에 필요한 환경변수 등은   
Object Literal을 통해 별도의 로직 없이도 캐싱과 전역 참조가 가능하므로 적절한 상황에만 활용할 필요가 있다.
```ts
class Server {
  // 인스턴스의 생성 없이 접근할 수 있도록 static 프로퍼티로 설정
  static app: Server;

  // 외부에서 new 키워드를 통해 인스턴스를 생성할 수 없도록 private 적용
  private constructor() {
    // 서버 생성을 위한 로직 작성
  }

  // 내부에서만 new 키워드를 통해 인스턴스를 생성할 수 있도록 로직 구성
  static getInstance(): Server {
    if (!Server.instance) {
      Server.instance = new Server();
    }

    return Server.instance;
  }

  // 서버 설정을 위한 로직 작성
}
```

<br>

---

<br>

## Summary
싱글톤 패턴은 객체의 생성을 담당하는 대표적인 디자인 패턴 중 하나다.  
싱글톤 패턴을 적용하면 리소스 낭비와 예상치 못한 버그를 예방할 수 있고,   
타입스크립트를 적용하여 손쉽게 구현할 수 있다.   
하지만 자바스크립트는 Object Literal을 통해 전역에서 참조할 수 있는 객체를 생성할 수 있고,  
진입점을 하나로 두고 export하여 인스턴스의 중복 생성을 예방할 수 있다.  
그러므로 싱글톤 패턴을 적용한다면 사용 언어와 목적에 따라 적절히 사용해야 한다.

---

> 추천 자료
>> [Youtube] Fireship: https://www.youtube.com/watch?v=tv-_1er1mWI
