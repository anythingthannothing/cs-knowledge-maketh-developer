# HTTP Status Code
## 목표
### 1. 상태 코드의 활용에 대해 설명할 수 있다.
### 2. 200~500번대 상태 코드에 대해 설명할 수 있다.
### 3. 세부적인 상태 코드를 적절히 활용할 수 있다.

---

> 먼저 읽어보길 추천!
>> HTTP 메서드: https://github.com/anythingthannothing/cs-knowledge-maketh-developer/blob/main/2-network/03-http-method.md

HTTP 상태 코드는 클라이언트의 요청에 대한 서버의 처리 결과를 숫자로 분류한 것이다.   
처리 결과에 따라 100번대부터 500번대까지의 상태 코드가 사용되지만,   
100번대 상태 코드는 거의 볼 일이 없으므로 200~500번대 상태 코드만 살펴 보자.   
200 | 300 | 400 | 500은 사유가 구체적이지 않을 때(다른 코드로 처리하기 애매할 때) 사용된다.

---

## 1. HTTP 상태 코드의 활용
### 1.1 개발자 관점 - 예외 처리
ex 1. 백엔드 - 기본 소양이다...?   
ex 2. 프론트엔드 - 백엔드에서 상태 코드만 받을 경우 유저에게 적절한 메시지를 전달해야 한다.
### 1.2 사용자 관점 - 브라우저의 정상 작동
ex 1. 회원가입이 실패했음에도 200번대 상태 코드를 전달할 경우 ID와 비밀번호를 저장할 것인지 묻는다.   
ex 2. 존재하지 않는 페이지에 접근했을 때 200번대 상태 코드를 전달할 경우 방문 기록에 저장된다.

---

## 2. 200's(Successful)
200번대 상태 코드는 클라이언트의 정상적인 요청을 서버가 처리하는 데 성공했음을 의미한다.

### 2.1 200(OK)
아마도 가장 많이 쓰이는 상태코드이자, 별도로 상태 코드를 지정하지 않을 경우   
디폴트값으로 지정되는 상태 코드이다.

### 2.2 201(Created)
POST 또는 PUT 요청의 결과로 새로운 리소스가 생성되었을 경우 사용된다.   
생성된 리소스의 URI는 헤더의 'Location' 필드 또는 Response Body에 담아 전달한다.   
Ex) 상품 등록 요청 이후 등록된 상품의 상세 정보 페이지로의 이동이 필요한 경우 등

### 2.3 202(Accepted)
클라이언트가 정상적으로 요청하였으나, 서버에서 아직 처리하지는 않았음을 의미한다.   
배치 작업과 같이 서버에서 다수의 요청을 한 번에 처리하는 경우 사용된다.

### 2.4 204(No Content)
서버가 클라이언트의 요청을 성공적으로 처리한 이후,   
딱히 클라이언트에 보낼 데이터가 없을 때 사용된다.   
특정 상품을 삭제하는 경우 등 성공 || 실패 여부만 알면 되는 경우 등에 해당한다.

---

## 3. 300s(Redirection)
클라이언트의 요청은 정상적이지만,   
특정 사유로 인해 클라이언트 사이드에서 추가적인 조치를 취해야함을 의미한다.   
브라우저는 300번대 상태 코드의 응답 헤더에 'Location' 필드가 있을 경우 해당 위치로 이동한다.

### 3.1 300(Multiple Choices)
다른 상태 코드와 다르게 300번은 거의 사용되지 않는다.

### 3.2 301(Moved Permanently) vs 308(Permanent Redirect)
URL이 영구적으로 변경되었을 경우 사용되지만,   
301은 리다이렉트 시 요청 메서드를 GET으로 변경시키고,   
308은 리다이렉트 시 본래의 요청 메서드와 Body 유지한 채로 리다이렉트 한다.   
Ex) /user URL을 사용하다, /users로 URL을 변경할 경우 적용

### 3.3 307(Temporary Redirect)
리다이렉트 시 본래의 요청 메서드와 Body를 유지한 채로 리다이렉트시킨다.   
Ex.1 - HTTPS가 적용된 웹 어플리케이션에 HTTP를 통해 요청할 경우 HTTPS로 리다이렉트   
EX.2 - POST 요청에 대한 결과를 받았을 경우, 새로고침을 통한 중복 요청을 방지하기 위해   
결제 정보 화면 등으로 리다이렉트 시키는 경우 사용(RPG: POST ➡ REDIRECT ➡ GET)

### 3.4 304(Not Modified)
캐시 가능(Cacheable)한 응답에 대해 리소스가 수정되지 않았음을 알려주는 역할을 한다.   
브라우저는 해당 응답의 결과로 로컬에 저장된 캐시를 재사용한다.(캐시로 리다이렉트)   
GET || HEAD 요청에 사용된다.

---

## 4. 400s(Client Error)
클라이언트가 비정상적인 요청을 했을 경우 사용되는 상태 코드다.   
400 vs 500번대 상태 코드의 차이점은 400번대의 응답을 받은 요청은   
애초에 잘못된 요청이기 때문에 동일한 상태, 문법으로 재요청 시 반드시 실패한다.

### 4.1 401(Unauthorized)
요청한 리소스를 응답받기 위해 인증(Authentication)이 필요한 경우 사용된다.   
일반적으로 Authorization은 인가(권한)를 의미하지만,   
초기 HTTP 스펙에서 잘못 정의되어 지금까지 'Unauthorized'로 사용되고 있다.


### 4.2 403(Forbidden)
서버에서 처리할 수 있는 요청이지만, 클라이언트에 권한이 없을 경우 사용된다.   
권한 확인을 위해서는 반드시 인증이 선행되어야 한다.   
ex) 일반 사용자가 관리자 페이지에 접속을 시도하거나 다른 사용자의 계정 정보에 접속할 경우

### 4.3 404(Not Found)
클라이언트에서 요청한 리소스가 존재하지 않거나,   
존재하더라도 403 에러를 통해 존재한다는 것을 밝힐 필요가 없을 때 403 대신 사용된다.   
일반적으로 404 에러는 HTML/CSS/JS, 이미지 파일 등 정적 파일에 사용되고,   
query나 param에 잘못된 값을 설정하여 존재하지 않는 데이터 등을 요청하는 경우에는 400번 상태 코드를 전달한다.

---

## 5. 500s(Server Error)
서버에서 발생한 에러로 인해 클라이언트의 요청을 처리할 수 없을 때 500번대 에러를 사용한다.   
때문에 동일한 요청을 다시 시도할 경우 성공할 수도 있다.   
클라이언트에 서버의 에러를 구체적으로 밝힐 필요는 없기 때문에,   
일반적으로 대부분 500번 에러를 전달한다.

### 5.2 503(Service Unavailabe)
서버 점검이나 오버로드로 인해 서버가 요청을 처리할 수 없을 때 사용된다.   
서버 점검 등 서비스 재개 시점이 예상 가능할 경우 응답 헤더에 'Retry-After' 필드를 포함해야 한다.   
추가로 해당 문제에 대해 설명하는 'user-friendly page'를 제공하면 더 좋다.

---

## Summary

---

> 추천 자료
>> [Article] MDN Web Docs: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/200   
>> [Youtube] Web Dev Simplified: https://www.youtube.com/watch?v=DUg2SWWK18I

<!-- 
[참고] 이미지
> < Process Explorer >
>>![Process 정보](/assets/process-and-thread/1.1-process.png)   
>> 다운로드 링크: https://learn.microsoft.com/en-us/sysinternals/downloads/process-explorer

[책 인용 시 출처]
> "인용문"
>> 책 저자, 『책 제목』, 출판지, 인용 쪽수

-->