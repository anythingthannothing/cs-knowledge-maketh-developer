# Process & Thread(ìž‘ì„± ì¤‘)   
## < ëª©í‘œ >
### 1. í”„ë¡œì„¸ìŠ¤ì™€ ìŠ¤ë ˆë“œì— ëŒ€í•´ ì„¤ëª…í•  ìˆ˜ ìžˆë‹¤.   
### 2. í”„ë¡œì„¸ìŠ¤ì™€ ìŠ¤ë ˆë“œì˜ ì°¨ì´ì ì— ëŒ€í•´ ì„¤ëª…í•  ìˆ˜ ìžˆë‹¤.
---
ìš´ì˜ì²´ì œì— ìžˆì–´ ê°€ìž¥ ì¤‘ìš”í•œ ì£¼ì œ ì¤‘ í•˜ë‚˜ì¸ í”„ë¡œì„¸ìŠ¤ì™€ ìŠ¤ë ˆë“œì— ëŒ€í•´ ì‚´íŽ´ë³´ìž.   
ë¨¼ì € í”„ë¡œì„¸ìŠ¤ì™€ ìŠ¤ë ˆë“œê°€ ë¬´ì—‡ì¸ì§€, ì´ ë‘˜ì´ ì–´ë–»ê²Œ ë‹¤ë¥¸ì§€ ì‚´íŽ´ë³´ê³    
ì¶”í›„ì— Processingê³¼ Threadingì— ëŒ€í•´ ì¶”ê°€ë¡œ ë‹¤ë¤„ë³´ê³ ìž í•œë‹¤.   
ì¶”ê°€ë¡œ ê³µë¶€í•˜ë©´ ì¢‹ì„ ì£¼ì œë“¤ì€ ë³„ë„ë¡œ ì •ë¦¬í•˜ì˜€ë‹¤.   

---

## 1. Process
ProcessëŠ” 'ì–´ë–¤ ì¼ ë°œìƒí•´ì„œ ì™„ë£Œë˜ê¸° ê¹Œì§€ì˜ ê³¼ì •' ìžì²´ë¥¼ ì˜ë¯¸í•œë‹¤.   
ì—¬ê¸°ì„œ ë§í•˜ëŠ” 'ì–´ë–¤ ì¼'ì€ í”„ë¡œê·¸ëž˜ë° ì–¸ì–´ë¥¼ í†µí•´ ì½”ë“œë¡œ ìž‘ì„±ë˜ì–´ ì‹¤í–‰ ê°€ëŠ¥í•œ ìƒíƒœì˜ í”„ë¡œê·¸ëž¨ì´ë©°,   
ì´ í”„ë¡œê·¸ëž¨ì´ ì‹¤í–‰ë˜ê³  ìžˆëŠ” ê³¼ì •ì„ Processë¼ê³  í•  ìˆ˜ ìžˆë‹¤.(Process == a Program in execution)   
ìµœê·¼ì—ëŠ” í•˜ë‚˜ì˜ í”„ë¡œê·¸ëž¨ì´ ì—¬ëŸ¬ Processì— ì˜í•´ ìž‘ë™ë˜ëŠ” ê²½ìš°ë„ ë§Žìœ¼ë¯€ë¡œ,   
Processê°€ ì‹¤í–‰ ì¤‘ì¸ Programê³¼ ì •í™•ížˆ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒ ì •ë„ë§Œ ì•Œì•„ë‘ìž.

### 1.1 Process State
Processê°€ ì‹¤í–‰ë˜ì–´ ì¢…ë£Œë  ë•Œê¹Œì§€ Processì˜ ìƒíƒœëŠ” ìˆ˜ì‹œë¡œ ë³€í•œë‹¤.
ê°ê°ì˜ Processê°€ ê°€ì§ˆ ìˆ˜ ìžˆëŠ” ìƒíƒœ ëª©ë¡ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
- Create: Programì´ ì‹¤í–‰ë˜ì–´ Process ì§„í–‰ì„ ìœ„í•´ ìƒì„±ëœ ìƒíƒœ
- Ready: Processê°€ ìŠ¤ì¼€ì¥´ë§ì— ì˜í•´ processorì— í• ë‹¹ë°›ê¸¸ ê¸°ë‹¤ë¦¬ê³  ìžˆëŠ” ìƒíƒœ
- Running: Programì— ì •ì˜ëœ ì¼ë ¨ì˜ ì½”ë“œ(Instruction)ë“¤ì´ ì‹¤í–‰ë˜ê³  ìžˆëŠ” ìƒíƒœ
- Waiting: Processê°€ ìž…ì¶œë ¥ ì²˜ë¦¬ ë“± ë‹¤ë¥¸ Eventê°€ ì™„ë£Œë˜ê¸¸ ê¸°ë‹¤ë¦¬ê³  ìžˆëŠ” ìƒíƒœ(Not Ready)
- Terminated: Processì˜ ëª¨ë“  ì½”ë“œë“¤ì´ ì‹¤í–‰ë˜ì–´ ì¢…ë£Œëœ ìƒíƒœ

### 1.2 í”„ë¡œì„¸ìŠ¤ ì œì–´ ë¸”ë¡(Process Control Block)
ìš´ì˜ì²´ì œëŠ” PCBì„ í†µí•´ í”„ë¡œì„¸ìŠ¤ë¥¼ ê´€ë¦¬í•œë‹¤.
PCBì—ëŠ”
1. í”„ë¡œì„¸ìŠ¤ì˜ ID(PID) => íŠ¹ì • í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹ë³„í•˜ëŠ”ë° ì‚¬ìš©
2. í”„ë¡œì„¸ìŠ¤ì˜ ìƒíƒœ
3. í”„ë¡œê·¸ëž¨ ì¹´ìš´í„°: ë‹¤ìŒ ì‹¤í–‰ ì‹œ ì‹¤í–‰ë˜ì–´ì•¼ í•  ì½”ë“œì˜ ì£¼ì†Œ
4. CPU ìŠ¤ì¼€ì¤„ë§ ê´€ë ¨ ì •ë³´: ìš°ì„ ìˆœìœ„, ìŠ¤ì¼€ì¤„ë§ íì˜ ì£¼ì†Œ ë“±
5. ë©”ëª¨ë¦¬ ì •ë³´: í”„ë¡œì„¸ìŠ¤ ì²˜ë¦¬ì— í•„ìš”í•œ ë©”ëª¨ë¦¬ ì •ë³´   
6. Accounting Information: ì²˜ë¦¬ ì‹œê°„, CPU, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ë“±
7. I/O ì •ë³´: í”„ë¡œì„¸ìŠ¤ ì²˜ë¦¬ì— í•„ìš”í•œ ìž…ì¶œë ¥ ìž¥ì¹˜ì— ëŒ€í•œ ì •ë³´   
ë“±ì˜ ì •ë³´ê°€ ì €ìž¥ë˜ì–´ ìžˆë‹¤.

### âœ… Process ê´€ë ¨ ìš©ì–´ ì •ë¦¬
1. ë©€í‹° í”„ë¡œê·¸ëž˜ë°: CPUì˜ íš¨ìœ¨ì„ ê·¹ëŒ€í™”í•˜ê¸° ìœ„í•´ ìµœëŒ€í•œ ë§Žì€ ì‹œê°„ ë™ì•ˆ í”„ë¡œì„¸ìŠ¤ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²ƒ
- ì´ˆê¸°ì˜ ì»´í“¨í„°ëŠ” ìž‘ì—… ë„ì¤‘ì— í”„ë¡œì„¸ìŠ¤ê°€ Waiting ìƒíƒœë¡œ ë³€í•´ë„ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ì²˜ë¦¬í•˜ì§€ ëª»í–ˆë‹¤.
- í˜„ëŒ€ì˜ ì»´í“¨í„°ëŠ” ìž‘ì—… ë„ì¤‘ì— í”„ë¡œì„¸ìŠ¤ê°€ Waiting ìƒíƒœê°€ ë˜ë©´ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ë‹¤ìŒ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•œë‹¤.
- í•˜ë‚˜ì˜ CPUë§Œìœ¼ë¡œë„ ë©€í‹° í”„ë¡œê·¸ëž˜ë°ì„ êµ¬í˜„í•  ìˆ˜ ìžˆë‹¤. 

2. ì‹œë¶„í•  ì‹œìŠ¤í…œ(Time Sharing System)
- ê° í”„ë¡œì„¸ì„œëŠ” í•œë²ˆì— í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ë§Œì„ ì²˜ë¦¬í•  ìˆ˜ ìžˆë‹¤.
- íƒ€ìž„ í€€í…€(Time Quantum)ì„ ì •í•´ë†“ê³  ì‚¬ëžŒì´ ì¸ì‹í•˜ì§€ ëª»í•  ì •ë„ì˜ ì†ë„ë¡œ   
ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ë²ˆê±¸ì•„ ê°€ë©° ì²˜ë¦¬í•˜ëŠ” ê²ƒì„ ì‹œë¶„í•  ì‹œìŠ¤í…œì´ë¼ê³  í•œë‹¤.
- ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜ ì¤‘ ë¼ìš´ë“œ ë¡œë¹ˆ(Round Robin) ë°©ì‹ì´ ì´ì— í•´ë‹¹í•˜ë©°,
í•˜ë‚˜ì˜ CPUë§Œìœ¼ë¡œë„ ì‹œë¶„í•  ì‹œìŠ¤í…œì„ êµ¬í˜„í•  ìˆ˜ ìžˆë‹¤.

3. ë©€í‹° í”„ë¡œì„¸ì‹±
- ì»´í“¨í„° ì²˜ë¦¬ ëŠ¥ë ¥ì„ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ 2ê°œ ì´ìƒì˜ CPUë¥¼ í†µí•´ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ë³‘ë ¬ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒ.
- 2000ë…„ëŒ€ ì´ˆë°˜, ë‹¨ì¼ CPUì˜ ì„±ëŠ¥ í–¥ìƒì´ í•œê³„ì— ë‹¤ë‹¤ë¥´ìž ë³¸ê²©ì ìœ¼ë¡œ ë„ìž…ë˜ê¸° ì‹œìž‘í–ˆë‹¤.

### 1.3 ë¬¸ë§¥ ì „í™˜(Context Switch)
ë¬¸ë§¥ ì „í™˜ì€ íŠ¹ì • í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ì„ ì¤‘ë‹¨í•˜ê³  ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ë˜ëŠ” ê³¼ì •ì—ì„œ ë°œìƒí•œë‹¤.
ë¹„ìœ ì ìœ¼ë¡œ í‘œí˜„í•˜ë©´,
1. ì²« ë²ˆì§¸ í”„ë¡œì„¸ìŠ¤ê°€ PCBë¥¼ ë“¤ê³  CPUë¥¼ ì°¾ì•„ì˜¨ë‹¤.
2. CPUëŠ” PCBë¥¼ ì½ê³  ì–´ë–¤ ìž‘ì—…ì„ í•  ì§€ í™•ì¸í•˜ê³  ì¼ì • ì‹œê°„ë§Œí¼ ìž‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.
3. ì‹œê°„ì´ ë‹¤ ë˜ë©´ CPUëŠ” ë‹¤ìŒ ìž‘ì—…ì„ ìœ„í•´ PCBë¥¼ ì—…ë°ì´íŠ¸í•˜ì—¬ í”„ë¡œì„¸ìŠ¤ì—ê²Œ ê±´ë„¤ì¤€ë‹¤.
4. ìž‘ì—…ì´ ëœ ëë‚œ í”„ë¡œì„¸ìŠ¤ëŠ” ëŒ€ê¸°ì¤„ì˜ ë§ˆì§€ë§‰ì— ì¤„ì„ ì„ ë‹¤.
5. ë‹¤ìŒ ìˆœì„œì˜ í”„ë¡œì„¸ìŠ¤ê°€ ìžì‹ ì˜ PCBë¥¼ ë“¤ê³  CPUë¥¼ ì°¾ì•„ê°„ë‹¤.
6. 2~5ë²ˆì´ ë°˜ë³µëœë‹¤.
ë¬¸ë§¥ ì „í™˜ ê³¼ì •ì—ì„œ CPUëŠ” ë³„ë‹¤ë¥¸ Instructionì„ ìˆ˜í–‰í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ,
ë¬¸ë§¥ ì „í™˜ì€ ì˜¨ì „í•œ overhead(ê°„ì ‘ë¹„)ë¼ê³  í•  ìˆ˜ ìžˆë‹¤.

---

## 2. Thread
ThreadëŠ” 'ì‹¤', 'ê¿°ë‹¤'ì˜ ì˜ë¯¸ë¥¼ ê°€ì§„ ê²ƒì—ì„œ ì•Œ ìˆ˜ ìžˆë“¯ í•œ Process ì•ˆì— ì†í•œ í•˜ë‚˜ì˜ 'ì‹¤í–‰ ë‹¨ìœ„'ì´ë‹¤.
ProcessëŠ” ë‹¨ í•˜ë‚˜ì˜ Threadë§Œì„ ê°€ì§ˆ ìˆ˜ë„ ìžˆê³ , ì—¬ëŸ¬ Threadë¡œ ì´ë£¨ì–´ì§ˆ ìˆ˜ë„ ìžˆë‹¤.


---
(ìˆ˜ì • ì˜ˆì •)

> < ì¸ìœ„ì ìœ¼ë¡œ HTTPë¥¼ í†µí•´ ìš”ì²­í•  ê²½ìš° >
>>![HTTP ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µ](/assets/what-happens/2-http-request-response.png)

---

## 3. DNS(Domain Name System) Lookup
(ISPì˜ DNS ì„œë²„ì—ë„ ì—†ë‹¤ë©´ ìž¬ê·€ì ì¸ íƒìƒ‰ì„ í†µí•´ IP ì£¼ì†Œë¥¼ ì–»ì„ ë•Œê¹Œì§€ DNS ì„œë²„ ë¦¬ìŠ¤íŠ¸ë“¤ì„ ì°¾ì•„ë‹¤ë‹ˆë©° ìš”ì²­í•œë‹¤.)
![DNS Lookupì˜ ê³¼ì •](/assets/what-happens/3-dns-lookup.png)   

> < ë¸Œë¼ìš°ì € & ìš´ì˜ì²´ì œì— ì˜í•œ DNS Lookup >
>>![HTTP ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µ](/assets/what-happens/2.2-http-request-response.png)

---

## 4. TCP Connection
ì€ ì¶”í›„ ë”°ë¡œ ì‚´íŽ´ë³¼ ê²ƒ.   

> < OSI 7 Layer vs TCP/IP vs TCP/IP Updated >   
>> ![TCP/IP ëª¨ë¸](/assets/what-happens/4.1-osi-tcpip-model.png)   
>> ì¶œì²˜: https://www.computernetworkingnotes.com/ccna-study-guide/similarities-and-differences-between-osi-and-tcp-ip-model.html

---

## 5. TLS(Transport Layer Security)
ì´ ê³¼ì •ì—ì„œ ì–´ë–¤ ë²„ì „ì˜ HTTPì„ ì‚¬ìš©í•  ì§€, ì–´ë–¤ ì••ì¶• ë°©ì‹ì„ ì‚¬ìš©í•  ì§€ì— ëŒ€í•œ í•©ì˜ë„ ì´ë£¨ì–´ì§„ë‹¤.
> < 3-way & TLS handshake >
>> ![3-way & TLS handshake ì„¤ëª… ìžë£Œ](/assets/what-happens/5-tls-handshake.png)   
>> ![AWS TLS ê°•ì¡° ë‚´ìš©](/assets/what-happens/5.1-tls-handshake.png)   


---


---

> HTTP Daemon ì„œë²„ëž€?
>> ì„œë²„ ì‚¬ì´ë“œì—ì„œ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ì‘ë‹µì„ ì „ì†¡í•˜ëŠ” ì—­í• ì„ í•˜ëŠ” ì„œë²„ë¡œ ëŒ€í‘œì ìœ¼ë¡œ nginxê°€ ì´ì— í•´ë‹¹í•œë‹¤.   
>> HTTP Daemon ì„œë²„ëŠ” ìš”ì²­ <-> ì‘ë‹µ ì²˜ë¦¬ ì™¸ì—ë„ ë¡œë“œ ë°¸ëŸ°ì‹±, HTTP ìºì‹± ë“±ì˜ ì—­í• ì„ í•˜ê¸°ë„ í•œë‹¤.
>>> < NGINX Architecture >   
>>>![nginx ì„¤ëª… ìžë£Œ](/assets/what-happens/7.1-what-is-nginx.png)

---


---

## Summary

ë¸Œë¼ìš°ì €ì— 'google.com'ì„ ìž…ë ¥í•˜ê³  ì—”í„°ë¥¼ ì¹˜ëŠ” ìˆœê°„ë¶€í„° ì›¹íŽ˜ì´ì§€ë¥¼ ë Œë”ë§í•˜ëŠ” ê³¼ì •ì„ í¬ê²Œ 8ê°€ì§€ë¡œ ë‚˜ëˆ„ì–´ ì‚´íŽ´ë³´ì•˜ë‹¤.

> < ê°œë°œìž ë„êµ¬ âž¡ Network âž¡ Resource ì„ íƒ âž¡ Timing íƒ­ >
>> ![ìš”ì•½ ìžë£Œ](/assets/what-happens/summary.png)   
1. URL Parsing
2. HTTP(port 80)? HTTPS(port 443)? => í”„ë¡œí† ì½œì„ ëª…ì‹œí•˜ì§€ ì•Šì€ ê²½ìš°!
3. DNS Lookup(ë„ë©”ì¸ -> IP ì£¼ì†Œ)
4. TCP Connection(3-way handshake)
5. TLS(Transport Layer Security)
6. Client: First Get Request
7. Server: Handling Request
8. HTML Parsing -> Rendering

ê³µë¶€ë¥¼ í•´ë‚˜ê°€ë©´ì„œ ì‚´ì„ ë¶™ì´ê³  ë‹¨ê³„ë¥¼ ë” ì„¸ë¶„í™”í•´ ë‚˜ê°„ë‹¤ë©´ ë„¤íŠ¸ì›Œí¬ì˜ ì´í•´ ìˆ˜ì¤€ì„ ë†’ì´ëŠ” ë° í° ë„ì›€ì´ ë  ìˆ˜ ìžˆëŠ” ì£¼ì œë¼ê³  ìƒê°í•œë‹¤ ðŸ˜Š

---

> ì°¸ê³  ìžë£Œ
>> Hussein Nasser's youtube: https://www.youtube.com/watch?v=dh406O2v_1c&t=57s    
: Video "What happens when you type google.com into your browser and press enter? (Detailed Analysis)"   

> ë” ì½ì–´ë³´ë©´ ì¢‹ì„ ìžë£Œ
>> alex's github: https://github.com/alex/what-happens-when   
: í•œêµ­ì–´ version: https://github.com/SantonyChoi/what-happens-when-KR   
â— í•´ë‹¹ ë¬¸ì„œì—ì„œëŠ” TLS handshakeë¥¼ 1.2 ë²„ì „ ê¸°ì¤€ìœ¼ë¡œ ê¸°ìˆ í•˜ê³  ìžˆìŒì„ ì°¸ê³ 

> ì¶”ê°€ë¡œ ê³µë¶€í•˜ë©´ ì¢‹ì„ ì£¼ì œë“¤
>> HTTP vs HTTPS(HyperText Transfer Protocol Secure socket layer)   
>> OSI 7 Layer vs TCP/IP(+TCP/IP Updated)   
>> 3-way handshake & 4-way handshake   
>> SSL & TLS
>> TCP vs UDP   
>> GET vs POST Method   
>> HTML Rendering   